(this.webpackJsonptwitterclone=this.webpackJsonptwitterclone||[]).push([[0],{154:function(e,t,a){e.exports=a.p+"static/media/logo.0ff4c7b6.png"},174:function(e,t,a){e.exports=a(259)},184:function(e,t,a){},204:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){},207:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){},212:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){},215:function(e,t,a){},242:function(e,t,a){},243:function(e,t,a){},244:function(e,t,a){},255:function(e,t,a){},256:function(e,t,a){},257:function(e,t,a){},258:function(e,t,a){},259:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),o=a(12),l=a.n(o),i=a(158),u=a(7),s=a(13),m=a(31),d=a(140),f=a(295),p=a(296),g=a(300),E=a(298),b=a(297),v=a(301),h=a(23),O=a(321),j=a(87),y=a.n(j),N=(a(184),a(101)),w=a.n(N),k=a(70),C=a.n(k),S=a(118),x=a(57),I=a(58),P=a(59),B=a.n(P),D="http://localhost:8080/v1/authenticate",F=B.a.create({baseURL:D,timeout:1e3}),U=new(function(){function e(){Object(x.a)(this,e)}return Object(I.a)(e,[{key:"login",value:function(e,t){return console.log(D),F.post(D,{username:e,password:t}).then((function(e){return console.log(e),e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"logout",value:function(){localStorage.removeItem("user"),window.location.reload()}},{key:"register",value:function(e,t,a){return F.post(D+"/signup",{username:e,email:t,password:a})}},{key:"isLoggedin",value:function(){var e=Object(S.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=JSON.parse(localStorage.getItem("user")))){e.next=3;break}return e.abrupt("return",fetch(D+"/getuser",{headers:{Authorization:"Bearer "+t.accessToken}}).then((function(e){return!!e})));case 3:return e.abrupt("return",!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getCurrentUser",value:function(){var e=Object(S.a)(C.a.mark((function e(){var t,a=this;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=JSON.parse(localStorage.getItem("user")))){e.next=3;break}return e.abrupt("return",fetch(D+"/getuser",{headers:{Authorization:"Bearer "+t.accessToken}}).then((function(e){if(e)return e.json()})).catch((function(e){console.log(e),a.logout()})));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}()),L=a(40),T=null===(n=JSON.parse(localStorage.getItem("user")))||void 0===n?void 0:n.accessToken,R=B.a.create({baseURL:"http://localhost:8080/v1",timeout:1e3,headers:{Authorization:"Bearer "+T}}),q=new(function(){function e(){Object(x.a)(this,e)}return Object(I.a)(e,[{key:"addPost",value:function(e){return R.post("posts",{body:e.body,imgData:e.imgData,postedBy:e.postedBy}).then((function(e){return e.data}))}},{key:"getPostById",value:function(e){return R.get("posts",{postid:e}).then((function(e){return e.data}))}},{key:"getPostByUserId",value:function(e){return R.get("posts",{userid:e}).then((function(e){return e.data}))}},{key:"getPostByUsername",value:function(e){return R.get("posts?username="+e).then((function(e){return e.data}))}},{key:"getPostsFromFollowing",value:function(){return R.get("posts/following").then((function(e){return e.data})).catch((function(e){console.log(e)}))}},{key:"reportPost",value:function(e){return R.post("report",{postId:e}).then((function(e){return e.data}))}},{key:"commentOnPost",value:function(e){var t=e.postid,a=e.body;return R.post("comment",{postId:t,body:a}).then((function(e){return e.data}))}}]),e}()),A=Object(d.a)({root:{width:480,marginBottom:"40px",borderRadius:10},media:{height:140}});function W(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),a=t[0],n=t[1],o=A(),l=Object(r.useState)(""),i=Object(u.a)(l,2),s=i[0],m=i[1],d={};U.getCurrentUser().then((function(e){return d=e}));var j=Object(L.c)();return c.a.createElement(f.a,{className:o.root},c.a.createElement(p.a,null,a?c.a.createElement(b.a,{className:o.media,image:a,title:"uploaded image"}):null,c.a.createElement(E.a,null,c.a.createElement(h.a,{gutterBottom:!0,variant:"h5",component:"h2"},"New post"),c.a.createElement(O.a,{className:"textInput",id:"filled-multiline-static",multiline:!0,variant:"outlined",placeholder:"Today i feel like...",onChange:function(e){return m(e.target.value)}}))),c.a.createElement(g.a,null,c.a.createElement("div",{className:"itemContainer"},c.a.createElement(v.a,{className:"sendButton",variant:"contained",color:"primary",onClick:function(){return function(){var e={};e.imgData=a,e.body=s,e.postedBy=d,q.addPost(e).then((function(e){document.location.reload()})).catch((function(e){j.error(e.response.data.message)}))}()},endIcon:c.a.createElement(w.a,null)},"Send"),c.a.createElement(y.a,{className:"imageUpload",withIcon:!1,buttonText:"Choose images",onChange:function(e){!function(e){var t=new FileReader;t.readAsDataURL(e[0]),t.onloadend=function(){n(t.result)}}(e)},withLabel:!1,imgExtension:[".jpg",".gif",".png",".gif",".jpeg"],maxFileSize:5242880,singleImage:!0}))))}var z=a(151),J=a(3),M=a(308),V=a(143),H=a(103),Y=a(152),G=a.n(Y),K=(a(204),Object(d.a)({root:{width:480,borderRadius:10}}));function Q(e){var t=e.postId,a=K(),n=Object(r.useState)({}),o=Object(u.a)(n,2),l=o[0],i=o[1];return c.a.createElement(f.a,{className:a.root},c.a.createElement(E.a,null,c.a.createElement("div",{className:"cardItems"},c.a.createElement(O.a,{className:"textInput",id:"filled-multiline-static",multiline:!0,variant:"outlined",placeholder:"This is great",onChange:function(e){return i(e.target.value)}}),c.a.createElement(v.a,{className:"sendButton",variant:"contained",color:"primary",onClick:function(){q.commentOnPost({postid:t,body:l}).then((function(){i("")}))},endIcon:c.a.createElement(w.a,null)},"Comment"))))}var X=a(309),Z=a(157),$=a(310),_=a(263),ee=a(302),te=a(325),ae=a(303),ne=(a(205),Object(d.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},fonts:{fontWeight:"bold"},inline:{display:"inline"}}}))),re=function(e){var t=e.key,a=e.postedBy,n=e.text,r=e.datePosted,o=ne();return c.a.createElement("div",{id:"comment"},c.a.createElement(_.a,{key:t,alignItems:"flex-start"},c.a.createElement(ee.a,null,c.a.createElement(te.a,{alt:"avatar",src:a.profilePicture})),c.a.createElement("div",{className:"commentBody"},c.a.createElement(ae.a,{primary:c.a.createElement(h.a,{className:o.fonts},a.displayName),secondary:c.a.createElement(c.a.Fragment,null,n)}),c.a.createElement(h.a,{className:"commentText"},r))))};function ce(e){var t=e.comments;return t?c.a.createElement("div",null,t.map((function(e,t){return c.a.createElement(re,{key:t,postedBy:e.postedBy,text:e.body,datePosted:e.prettyDatePosted})}))):null}a(206);var oe=a(324),le=a(307),ie=a(305),ue=a(306),se=a(304);a(207);function me(e){var t=e.open,a=e.postId;Object(r.useEffect)((function(){i(t)}),[t]);var n=Object(r.useState)(null),o=Object(u.a)(n,2),l=o[0],i=o[1],s=Object(L.c)();return c.a.createElement("div",null,c.a.createElement(oe.a,{open:l,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},c.a.createElement(se.a,{id:"alert-dialog-title"},"Report this post?"),c.a.createElement(ie.a,null,c.a.createElement(ue.a,{id:"alert-dialog-description"},"Are you sure you want to report this post?")),c.a.createElement(le.a,null,c.a.createElement(v.a,{onClick:function(){return i(!1)},color:"primary"},"No"),c.a.createElement(v.a,{onClick:function(){i(!1),q.reportPost(a).then((function(e){s.info(e)})).catch((function(e){console.log(e.response),s.error(e.response.data.message)}))},color:"primary",autoFocus:!0},"Yes"))))}var de=Object(d.a)((function(e){return{root:{width:480,marginBottom:"40px",borderRadius:10},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:H.a[500]}}}));function fe(e){var t=e.imgData,a=e.subtitle,n=e.postedBy,o=e.datePosted,l=e.commentsList,i=e.postId,m=Object(s.g)(),d=de(),p=c.a.useState(!1),O=Object(u.a)(p,2),j=O[0],y=O[1],N=c.a.useState(null),w=Object(u.a)(N,2),k=w[0],C=w[1],S=Object(r.useState)(!1),x=Object(u.a)(S,2),I=x[0],P=x[1];return c.a.createElement("div",null,c.a.createElement(f.a,{className:d.root},c.a.createElement("div",{className:"postHeader"},c.a.createElement(M.a,{onClick:function(){return m.push("/user/"+n.username)},avatar:c.a.createElement("img",{src:n.profilePicture,className:"profilePicture",alt:"Profile"}),title:"Posted by "+n.displayName+" on "+o}),c.a.createElement(v.a,{className:"optionsButton","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){C(e.currentTarget)}},"Open Menu")),t?c.a.createElement(b.a,{className:d.media,image:t}):null,c.a.createElement(E.a,null,c.a.createElement(h.a,{variant:"body2",color:"textSecondary",component:"p"},c.a.createElement("b",null,n.displayName,":")," ",a)),c.a.createElement(g.a,{disableSpacing:!0},c.a.createElement(V.a,{className:Object(J.default)(d.expand,Object(z.a)({},d.expandOpen,j)),onClick:function(){y(!j)},"aria-expanded":j,"aria-label":"Show comments"},c.a.createElement(G.a,null))),c.a.createElement(X.a,{in:j,timeout:"auto",unmountOnExit:!0},c.a.createElement(Q,{postId:i}),c.a.createElement(ce,{comments:l}))),c.a.createElement(Z.a,{id:"simple-menu",anchorEl:k,keepMounted:!0,open:Boolean(k),onClose:function(){C(null)}},c.a.createElement($.a,{onClick:function(){return P(!0)}},"Report")),c.a.createElement(me,{open:I,postId:i}))}function pe(e){var t=e.username,a=Object(r.useState)(),n=Object(u.a)(a,2),o=n[0],l=n[1],i=Object(r.useState)(!0),s=Object(u.a)(i,2),m=s[0],d=s[1];return Object(r.useEffect)((function(){t?q.getPostByUsername(t).then((function(e){l(e),d(!1)})):q.getPostsFromFollowing().then((function(e){l(e),d(!1)}))}),[t]),m?c.a.createElement("div",null,"Loading..."):c.a.createElement("div",null,null===o||void 0===o?void 0:o.map((function(e,t){return c.a.createElement(fe,{key:t,postId:e.idString,imgData:e.imgData,subtitle:e.body,postedBy:e.postedBy,datePosted:e.prettyDatePosted,commentsList:e.comments})})))}a(210);var ge=function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"posts"},c.a.createElement(W,null),c.a.createElement(pe,null)))};a(211);function Ee(){return c.a.createElement("div",{id:"container"},c.a.createElement("h1",{id:"notfound"},"404 Not found!"))}var be,ve=a(311),he=a(5),Oe=(a(212),null===(be=JSON.parse(localStorage.getItem("user")))||void 0===be?void 0:be.accessToken),je=B.a.create({baseURL:"http://localhost:8080/v1",timeout:5e3,headers:{Authorization:"Bearer "+Oe}}),ye=new(function(){function e(){Object(x.a)(this,e)}return Object(I.a)(e,[{key:"getUserByName",value:function(e){if(e)return je.get("user?name="+e).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},{key:"followUserByName",value:function(e){return je.post("user/follow",{usernameToFollow:e}).then((function(e){return e.data}))}},{key:"unFollowUserByName",value:function(e){return je.post("user/unfollow",{usernameToFollow:e}).then((function(e){return e.data}))}},{key:"isFollowing",value:function(e){return je.get("user/isfollowing?username="+e).then((function(e){return e.data}))}},{key:"searchUsers",value:function(e){return je.get("user/search?query="+e).then((function(e){return e.data}))}},{key:"updateUserDetails",value:function(e){return je.put("user",{displayName:e.username,profilePictureData:e.profilePicture,email:e.email,password:e.password,confirmPassword:e.passwordConfirm,bio:e.bio}).then((function(e){return e.data}))}}]),e}());a(213);function Ne(e){var t=e.userDetails,a=Object(r.useState)(!1),n=Object(u.a)(a,2),o=n[0],l=n[1];Object(r.useEffect)((function(){t.username&&ye.isFollowing(t.username).then((function(e){l(e)}))}),[t]);return t.username===o===!0?c.a.createElement("button",{onClick:function(){ye.unFollowUserByName(t.username).then((function(e){l(!1)}))},className:"unfollow-button"},"unFollow"):c.a.createElement("button",{onClick:function(){ye.followUserByName(t.username).then((function(e){l(!0)}))},className:"follow-button"},"Follow")}var we=Object(he.a)({root:{color:"#FFFFFF"}})(h.a);function ke(e){var t=e.user,a=Object(r.useState)(!1),n=Object(u.a)(a,2),o=n[0],l=n[1];return Object(r.useEffect)((function(){var e=t.username,a={};U.getCurrentUser().then((function(t){a=t.username,l(a!==e)}))})),c.a.createElement("div",null,c.a.createElement("div",{className:"item"},c.a.createElement(we,{variant:"h5"},null===t||void 0===t?void 0:t.displayName),c.a.createElement(we,{variant:"h6"},null===t||void 0===t?void 0:t.username),c.a.createElement(ve.a,null),c.a.createElement(we,null,null===t||void 0===t?void 0:t.role),c.a.createElement(ve.a,null),c.a.createElement("img",{src:null===t||void 0===t?void 0:t.profilePicture,className:"profilePicture",alt:"avatar"}),c.a.createElement(h.a,null,null===t||void 0===t?void 0:t.bio),!0===o?c.a.createElement(Ne,{userDetails:t}):null))}a(214);function Ce(e){var t=e.userDetails;return c.a.createElement("div",{className:"sidenav"},c.a.createElement(ke,{user:t}))}a(215);function Se(){var e=Object(s.h)(),t=Object(s.g)(),a=Object(r.useState)({}),n=Object(u.a)(a,2),o=n[0],l=n[1];return Object(r.useEffect)((function(){ye.getUserByName(e.id).then((function(e){return l(e)}))}),[e.id]),o||t.push("/404"),c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(Ce,{userDetails:o})),c.a.createElement("div",{className:"posts"},c.a.createElement(pe,{username:e.id})))}var xe=a(315),Ie=a(316),Pe=a(153),Be=a.n(Pe);a(242);function De(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),a=t[0],n=t[1],o=Object(s.g)();return c.a.createElement("div",null,c.a.createElement(Be.a,{className:"searchbox",value:a,placeholder:"Search for user",onChange:function(e){return n(e)},onRequestSearch:function(e){return o.push("/search/"+e)}}))}var Fe=a(56),Ue=a(314),Le=a(154),Te=a.n(Le),Re=(a(243),a(244),function(e){var t=e.user,a=c.a.useState(null),n=Object(u.a)(a,2),r=n[0],o=n[1],l=Object(s.g)();return c.a.createElement("div",null,c.a.createElement("div",{className:"profile"},c.a.createElement("div",{onClick:function(e){o(e.currentTarget)}},c.a.createElement("img",{src:null===t||void 0===t?void 0:t.profilePicture,className:"profilePicture",alt:"avatar"}),c.a.createElement(h.a,{className:"item"},null===t||void 0===t?void 0:t.displayName)),c.a.createElement(Z.a,{id:"simple-menu",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:function(){o(null)}},c.a.createElement($.a,{onClick:function(){return l.push("/user/"+t.username)}},"Profile"),c.a.createElement($.a,{onClick:function(){return l.push("/account")}},"My account"),c.a.createElement($.a,{onClick:function(){return U.logout()}},"Logout"))))}),qe=Object(Fe.a)({palette:{primary:{main:"#292525"}}});function Ae(e){var t=e.content,a=Object(r.useState)(!0),n=Object(u.a)(a,2),o=n[0],l=n[1],i=Object(r.useState)({}),m=Object(u.a)(i,2),d=m[0],f=m[1],p=Object(s.g)();return Object(r.useEffect)((function(){U.getCurrentUser().then((function(e){return f(e)})),"/register"===p.location.pathname.toLowerCase()||"/login"===p.location.pathname.toLowerCase()?l(!1):l(!0)}),[]),o?c.a.createElement("div",null,c.a.createElement(Ue.a,{theme:qe},c.a.createElement(xe.a,{color:"primary"},c.a.createElement(Ie.a,null,c.a.createElement("div",{className:"toolbaritems"},c.a.createElement("div",{className:"logoContainer"},c.a.createElement("img",{src:Te.a,className:"logo",alt:"Logo",onClick:function(){return p.push("/")}})),c.a.createElement(De,{className:"searchbox"}),c.a.createElement(Re,{className:"profile",user:d}))))),c.a.createElement("div",{className:"content"},t)):c.a.createElement("div",null,t)}var We=a(299),ze=a(104),Je=a(105),Me=a(155);var Ve=function(e){var t=e.result,a=Object(s.g)();return c.a.createElement(c.a.Fragment,null,c.a.createElement(ze.Column,{gap:2,onClick:function(){return a.push("/user/"+t.username)}},c.a.createElement(ze.Row,{alignItems:"center"},c.a.createElement(ze.Item,{position:"middle"},c.a.createElement("div",null,c.a.createElement(te.a,{src:t.profilePicture}))),c.a.createElement(Je.Info,{useStyles:Me.useChatzInfoStyles},c.a.createElement(Je.InfoTitle,null,t.displayName),c.a.createElement(Je.InfoSubtitle,null,t.bio)))))},He=a(93);a(255);function Ye(e){var t=e.query,a=Object(r.useState)([]),n=Object(u.a)(a,2),o=n[0],l=n[1];return Object(r.useEffect)((function(){ye.searchUsers(t).then((function(e){return l(e)}))}),[t]),0!==o.length?c.a.createElement(He.a,{className:"listContainer"},c.a.createElement(h.a,null,'Results matching query "',t,'"'),c.a.createElement(We.a,{className:"list"},o.map((function(e,t){return c.a.createElement("div",{id:t},c.a.createElement(Ve,{result:e,id:t}),c.a.createElement(ve.a,{variant:"inset",component:"li",id:t}))})))):c.a.createElement("div",{className:"listContainer"},c.a.createElement("h1",null,"No results found"))}a(256);function Ge(){var e=Object(s.g)(),t=Object(r.useState)(),a=Object(u.a)(t,2),n=a[0],o=a[1];return Object(r.useEffect)((function(){return e.listen((function(e){o(e.pathname.replace("/search/",""))}))}),[e]),c.a.createElement("div",{className:"root"},c.a.createElement("div",{className:"results"},c.a.createElement(Ye,{query:n})))}var Ke=a(318),Qe=a(322),Xe=a(319),Ze=a(317),$e=a(102),_e=a.n($e),et=Object(d.a)((function(e){return{base:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function tt(e){var t=Object(r.useState)(""),a=Object(u.a)(t,2),n=a[0],o=a[1],l=Object(r.useState)(""),i=Object(u.a)(l,2),m=i[0],d=i[1],f=Object(r.useState)(""),p=Object(u.a)(f,2),g=p[0],E=p[1],b=Object(s.g)(),j=et();return c.a.createElement(Ze.a,{container:!0,component:"main",className:j.base},c.a.createElement(Ke.a,null),c.a.createElement(Ze.a,{item:!0,xs:!1,sm:4,md:7,className:j.image}),c.a.createElement(Ze.a,{item:!0,xs:12,sm:8,md:5,component:He.a,elevation:6,square:!0},c.a.createElement("div",{className:j.paper},c.a.createElement(te.a,{className:j.avatar},c.a.createElement(_e.a,null)),c.a.createElement(h.a,{component:"h1",variant:"h5"},"Sign in"),c.a.createElement("form",{className:j.form,noValidate:!0},c.a.createElement(O.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"username",name:"username",autoComplete:"username",autoFocus:!0,onChange:function(e){return o(e.target.value)}}),c.a.createElement(O.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:function(e){return d(e.target.value)},autoComplete:"current-password"}),c.a.createElement(v.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:j.submit,onClick:function(e){e.preventDefault(),E(""),U.login(n,m).then((function(){document.location.replace("/")}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();E(t),console.log(t)}))}},"Sign In"),c.a.createElement(Ze.a,{container:!0},c.a.createElement(Ze.a,{item:!0},c.a.createElement(Xe.a,{variant:"body2",onClick:function(){return b.push("/register")}},"Dont already have an account? Sign up"))),g?c.a.createElement(Qe.a,{severity:"error"},g):null))))}var at=a(320),nt=Object(d.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function rt(e){var t=nt(),a=Object(s.g)(),n=Object(r.useState)(""),o=Object(u.a)(n,2),l=o[0],i=o[1],m=Object(r.useState)(""),d=Object(u.a)(m,2),f=d[0],p=d[1],g=Object(r.useState)(""),E=Object(u.a)(g,2),b=E[0],j=E[1],y=Object(r.useState)(""),N=Object(u.a)(y,2),w=N[0],k=N[1];return c.a.createElement(at.a,{component:"main",maxWidth:"xs"},c.a.createElement(Ke.a,null),c.a.createElement("div",{className:t.paper},c.a.createElement(te.a,{className:t.avatar},c.a.createElement(_e.a,null)),c.a.createElement(h.a,{component:"h1",variant:"h5"},"Sign up"),w?c.a.createElement(Qe.a,{severity:"error"},w):null,c.a.createElement("form",{className:t.form,noValidate:!0},c.a.createElement(Ze.a,{container:!0,spacing:2},c.a.createElement(Ze.a,{item:!0,xs:12},c.a.createElement(O.a,{autoComplete:"fname",name:"username",variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",autoFocus:!0,onChange:function(e){return i(e.target.value)}})),c.a.createElement(Ze.a,{item:!0,xs:12},c.a.createElement(O.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){return j(e.target.value)}})),c.a.createElement(Ze.a,{item:!0,xs:12},c.a.createElement(O.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return p(e.target.value)}}))),c.a.createElement(v.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){e.preventDefault(),U.register(l,b,f).then((function(e){U.login(l,f).then((function(e){document.location.replace("/")}))}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();k(t)}))}},"Sign Up"),c.a.createElement(Ze.a,{container:!0,justify:"flex-end"},c.a.createElement(Ze.a,{item:!0},c.a.createElement(Xe.a,{variant:"body2",onClick:function(){return a.push("/login")}},"Already have an account? Sign in"))))))}a(257);function ct(e){var t=e.accountDetails,a=e.callback,n=Object(r.useState)(""),o=Object(u.a)(n,2),l=o[0],i=o[1],s=Object(r.useState)(""),m=Object(u.a)(s,2),d=m[0],f=m[1],p=Object(r.useState)(""),g=Object(u.a)(p,2),E=g[0],b=g[1],v=Object(r.useState)(""),h=Object(u.a)(v,2),j=h[0],y=h[1],N=Object(r.useState)(""),w=Object(u.a)(N,2),k=w[0],C=w[1];return Object(r.useEffect)((function(){a({username:l,email:d,password:E,passwordConfirm:j,bio:k})}),[l,d,j,E,k,a]),Object(r.useEffect)((function(){i(t.displayName),f(t.email),C(t.bio)}),[t]),c.a.createElement("div",{id:"editDetailsForm"},c.a.createElement("div",{className:"DetailsFormItem"},c.a.createElement(O.a,{id:"standard-basic",label:"Display name",value:l,onChange:function(e){return i(e.target.value)}})),c.a.createElement("div",{className:"DetailsFormItem"},c.a.createElement(O.a,{id:"standard-basic",label:"Email",value:d,onChange:function(e){return f(e.target.value)}})),c.a.createElement("div",{className:"DetailsFormItem"},c.a.createElement(O.a,{id:"standard-basic",label:"Bio",rows:3,value:k,onChange:function(e){return C(e.target.value)}})),c.a.createElement(O.a,{id:"standard-basic",label:"Password",type:"password",placeholder:"Leave empty to keep current password",onChange:function(e){return b(e.target.value)}}),c.a.createElement("div",{className:"DetailsFormItem"},c.a.createElement(O.a,{id:"standard-basic",label:"Confirm Password",type:"password",onChange:function(e){return y(e.target.value)}})))}function ot(e){e.value;var t=e.callback;return c.a.createElement("div",null,c.a.createElement(y.a,{className:"imageUpload",withIcon:!1,buttonText:"Choose images",onChange:function(e){!function(e){var a=new FileReader;a.readAsDataURL(e[0]),a.onloadend=function(){t(a.result)}}(e)},withLabel:!1,imgExtension:[".jpg",".gif",".png",".gif",".jpeg"],maxFileSize:5242880,singleImage:!0}))}a(258);function lt(e){var t=e.accountDetails,a=Object(r.useState)(""),n=Object(u.a)(a,2),o=n[0],l=n[1],i=Object(r.useState)({}),s=Object(u.a)(i,2),m=s[0],d=s[1],f=Object(L.c)();Object(r.useEffect)((function(){l(t.profilePicture)}),[t]);return c.a.createElement("div",{id:"formContainer"},c.a.createElement("img",{src:o,id:"profilePicture",alt:"profile"}),c.a.createElement(ot,{value:o,callback:l}),c.a.createElement(ct,{accountDetails:t,callback:d}),c.a.createElement(v.a,{onClick:function(){m.profilePicture=o,console.log(m),ye.updateUserDetails(m).then((function(e){f.success("Profile is updates, refresh to view changes")})).catch((function(e){return f.error(e.response.data.message)}))}},"Save changes"))}function it(){var e=Object(r.useState)({}),t=Object(u.a)(e,2),a=t[0],n=t[1];return Object(r.useEffect)((function(){U.getCurrentUser().then((function(e){return n(e)}))}),[]),c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(lt,{accountDetails:a})))}function ut(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)(!0),l=Object(u.a)(o,2),d=l[0],f=l[1],p=function(e){var t=e.children,n=Object(i.a)(e,["children"]);return c.a.createElement(s.b,Object.assign({},n,{render:function(e){var n=e.location;return d?c.a.createElement("div",null,"Loading"):a?t:c.a.createElement(s.a,{to:{pathname:"/login",state:{from:n}}})}}))};return Object(r.useEffect)((function(){U.isLoggedin().then((function(e){n(e),f(!1)}))})),c.a.createElement("div",null,c.a.createElement(m.a,null,c.a.createElement(Ae,{content:c.a.createElement(s.d,null,c.a.createElement(p,{exact:!0,path:"/"},c.a.createElement(ge,null)),c.a.createElement(s.b,{exact:!0,path:"/404"},c.a.createElement(Ee,null)),c.a.createElement(p,{exact:!0,path:"/user/:id"},c.a.createElement(Se,null)),c.a.createElement(p,{exact:!0,path:"/search/:query"},c.a.createElement(Ge,null)),c.a.createElement(p,{exact:!0,path:"/account"},c.a.createElement(it,null)),c.a.createElement(s.b,{exact:!0,path:"/register"},c.a.createElement(rt,null)),c.a.createElement(s.b,{exact:!0,path:"/login"},c.a.createElement(tt,null)),c.a.createElement(s.a,{to:"/404"}))})))}var st=a(156),mt={position:"bottom center",timeout:5e3,offset:"30px",transition:L.b.SCALE};l.a.render(c.a.createElement(L.a,Object.assign({template:st.a},mt),c.a.createElement(ut,null)),document.getElementById("root"))}},[[174,1,2]]]);
//# sourceMappingURL=main.7a07adc9.chunk.js.map